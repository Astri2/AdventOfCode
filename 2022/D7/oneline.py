[[print(sum([w for w in flat(t,[],flat) if w < 100_000]),min([w for w in flat(t,[], flat) if w >= t[1] - 40_000_000]),sep="\n") for flat in [lambda t,l, flat : [l for __ in[[flat(sub,l, flat) for sub in t[0]] for __ in [l.append(t[1])]]][0]]] for t in [p(open("D7\\input_test.txt",'r').read().splitlines(),[],p)[:2] for p in [lambda lines, i, p : [[(s[0],sum(s[1]),[sum(s[2])]) for __ in [[[[[[s[2].append(1) for __ in [[[[s[2].append(ii[0]) for __ in [s[2].clear()] for __ in [s[1].append(ww)] for __ in [s[0].append((tt,ww))]] for tt,ww,ii in [p(lines,s[2],p)]] for __ in [0] if lines[sum(s[2])].startswith("$ cd")]]] for __ in [[s[1].append(int(match[0])) for match in [__import__("re").findall("[0-9]+",lines[sum(s[2])])] if match]]] for __ in [0 if sum(s[2]) < len(lines) and lines[sum(s[2])] != "$ cd .." else b.clear()] if b] for __ in range(len(lines)-sum(s[2])) if b] for b in [[0]]]]][0] for s in [([],[],i+[1])]][0]]]][0]