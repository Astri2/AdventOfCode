[[[[[print(sum([sum([1 if n_b[i][j] != [] else 0 for j in range(0,len(n_b[0]))]) for i in range(0,len(n))]))] for __ in [[[[vis(n,n_b,(len(n)-2,j),(-1,0),[], vis) for __ in [vis(n,n_b,(1,j),(1,0),[], vis)]] for j in range(1,len(n[0])-1)] for __ in [[[vis(n,n_b,(i,len(n)-2),(0,-1),[], vis) for __ in [vis(n,n_b,(i,1),(0,1),[], vis)]] for i in range(1,len(n)-1)]]]]] for n_b in [[[[] for __ in n[0]] for __ in n]]] for n in [__import__("numpy").pad(__import__("numpy").array([[int(n) for n in line] for line in open(f"D8\input.txt").read().splitlines()]), 1,constant_values=-1)]] for vis in [lambda m, mb, pos, dir, max, vis : [[[vis(m, mb, (pos[0]+dir[0],pos[1]+dir[1]), dir, max, vis)] for __ in [[mb[pos[0]][pos[1]].append(1) for __ in [[max.append(val+1) for __ in [max.clear()]]]] if val+1 > sum(max) else 0 for __ in [0]]] for val in [m[pos]] if val != -1]]]